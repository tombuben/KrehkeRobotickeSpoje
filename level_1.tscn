[gd_scene load_steps=36 format=3 uid="uid://bengtiruay3eo"]

[ext_resource type="PackedScene" uid="uid://d2myyy2dlm4ti" path="res://pandulak.tscn" id="1_1j5ko"]
[ext_resource type="Script" path="res://Level.gd" id="1_cbap4"]
[ext_resource type="Script" path="res://KillBody.gd" id="2_nufue"]
[ext_resource type="Script" path="res://CameraCenterer.gd" id="2_r8wdn"]
[ext_resource type="Shader" path="res://old_movie.gdshader" id="3_fspt7"]
[ext_resource type="Script" path="res://Friction.gd" id="4_uuuov"]
[ext_resource type="PackedScene" uid="uid://fr2gabw8cqso" path="res://ona.tscn" id="5_qh2jo"]
[ext_resource type="Script" path="res://CameraSwitcher.gd" id="6_ahpbm"]
[ext_resource type="Texture2D" uid="uid://c8vwkyk4gybhd" path="res://art/stromy/strom1.png" id="6_m1xfc"]
[ext_resource type="Texture2D" uid="uid://ccbgj5780o2qb" path="res://art/stromy/strom2.png" id="7_8xhop"]
[ext_resource type="Texture2D" uid="uid://bmkvdjqy6w6c5" path="res://art/storyboard/park/park_uvod.jpg" id="7_m0xvp"]
[ext_resource type="Texture2D" uid="uid://dl6kajvx53vqc" path="res://art/stromy/strom3.png" id="8_1dda0"]
[ext_resource type="Script" path="res://GoalTarget.gd" id="8_bgc1y"]
[ext_resource type="Texture2D" uid="uid://dev22bq0tb5p" path="res://art/stromy/strom5.png" id="8_dgjjw"]
[ext_resource type="Texture2D" uid="uid://cni6sio1f8skg" path="res://art/carry_stuff/kosik.png" id="8_tc635"]
[ext_resource type="Texture2D" uid="uid://coqpig88ad7yg" path="res://art/gameover.png" id="8_v3eh1"]
[ext_resource type="Texture2D" uid="uid://ig5lwx07xvp7" path="res://art/stromy/strom4.png" id="8_yi0ws"]
[ext_resource type="Script" path="res://StoryboardPlayer.gd" id="9_mx74c"]
[ext_resource type="Texture2D" uid="uid://c0fuai8ej7745" path="res://art/storyboard/park/park_intro_1.jpg" id="12_c2snk"]
[ext_resource type="Script" path="res://storyboard.gd" id="13_doyg1"]
[ext_resource type="Texture2D" uid="uid://doi3la0c0mrr" path="res://art/storyboard/park/park_intro_2.jpg" id="14_xfy2c"]
[ext_resource type="AudioStream" uid="uid://cvbeqcu3shjmo" path="res://audio/basketdrop.ogg" id="14_xycrs"]
[ext_resource type="Texture2D" uid="uid://dd5munik4gvpu" path="res://art/trava/trava2.png" id="15_5a1ow"]
[ext_resource type="Texture2D" uid="uid://bupuetdew7tg6" path="res://art/storyboard/park/park_outro_1.jpg" id="15_d117x"]
[ext_resource type="Texture2D" uid="uid://ble8folajkggg" path="res://art/storyboard/park/park_outro_2.jpg" id="16_pror3"]
[ext_resource type="Texture2D" uid="uid://egwl3bu6o6kk" path="res://art/trava/trava.png" id="16_sy6a4"]
[ext_resource type="Texture2D" uid="uid://bvl8aag2ru7dp" path="res://art/storyboard/park/park_outro_3.jpg" id="17_unuie"]
[ext_resource type="Texture2D" uid="uid://bqe6mocn50xv8" path="res://art/storyboard/game_over.png" id="24_yy2jp"]
[ext_resource type="Texture2D" uid="uid://b4i5oat7iob03" path="res://art/lavicka.png" id="28_acxc7"]
[ext_resource type="AudioStream" uid="uid://b5xtdpca602by" path="res://audio/Fig Leaf Rag.mp3" id="30_fvr2l"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_fugcv"]
shader = ExtResource("3_fspt7")
shader_parameter/projector_power = 0.497
shader_parameter/vignette_param = 2.0

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_1c1xu"]
friction = 0.0

[sub_resource type="CircleShape2D" id="CircleShape2D_r7yqd"]
radius = 4.8092

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_jd27c"]
radius = 5.0
height = 54.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_iy1vu"]
size = Vector2(510, 398)

[node name="Level1" type="Node2D" node_paths=PackedStringArray("gameOverTextObject", "game_over_player")]
script = ExtResource("1_cbap4")
gameOverTextObject = NodePath("CanvasLayer/GameOverScreen")
game_over_player = NodePath("Krabice/AudioStreamPlayer")

[node name="StaticBody2D" type="StaticBody2D" parent="."]
position = Vector2(50, 212)
script = ExtResource("2_nufue")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(138, 436, -508, 322, -621, -388, 66, -414, 89, 152, 319, 171, 441, 200, 465, 221, 503, 234, 535, 254, 565.057, 270, 1444, 270, 3324, 352, 3313, -514, 3423, 367, 3309, 620, 1408, 453)

[node name="Polygon2D" type="Polygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(-276, 861, -508, 322, -621, -388, -348, -1480, 1547, -1449, 66, -414, 89, 152, 319, 171, 441, 200, 465, 221, 503, 234, 535, 254, 565.057, 270, 1444, 270, 3040, 339, 3338, 364, 3378, 345, 3410, 316, 3430, 290, 3458, 258, 3484, 198, 3488, 147, 3489, 96, 3478, 54, 3453, 25, 3422, 4, 3396, -17, 3404, -512, 1903, -1328, 3147, -1507, 4356, -639, 3974, 1051, 1398, 832)

[node name="Lavicka" type="Sprite2D" parent="."]
position = Vector2(3305, 483)
scale = Vector2(0.2, 0.2)
texture = ExtResource("28_acxc7")

[node name="sisoun" parent="." instance=ExtResource("1_1j5ko")]
position = Vector2(674, 440)

[node name="ona" parent="." instance=ExtResource("5_qh2jo")]
position = Vector2(816, 446)
player = 2

[node name="CameraCenterer" type="Node2D" parent="." node_paths=PackedStringArray("pos1", "pos2")]
position = Vector2(791, 168)
script = ExtResource("2_r8wdn")
pos1 = NodePath("../ona")
pos2 = NodePath("../sisoun")

[node name="CharactersCamera" type="Camera2D" parent="CameraCenterer"]
position = Vector2(0, -168)
position_smoothing_enabled = true
position_smoothing_speed = 10.0

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ParallaxBackground" type="ParallaxBackground" parent="CanvasLayer"]
scroll_offset = Vector2(30, 0)

[node name="ParallaxLayer" type="ParallaxLayer" parent="CanvasLayer/ParallaxBackground"]
motion_scale = Vector2(0.5, 0.5)
motion_offset = Vector2(30, 0)

[node name="Sprite2D" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/ParallaxLayer"]
position = Vector2(514, 276)
scale = Vector2(0.4, 0.4)
texture = ExtResource("6_m1xfc")

[node name="Sprite2D4" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/ParallaxLayer"]
position = Vector2(1945, 287)
scale = Vector2(0.4, 0.4)
texture = ExtResource("7_8xhop")

[node name="Sprite2D5" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/ParallaxLayer"]
position = Vector2(1415, 275)
scale = Vector2(0.4, 0.4)
texture = ExtResource("8_dgjjw")

[node name="Sprite2D6" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/ParallaxLayer"]
position = Vector2(2281, 290)
scale = Vector2(0.4, 0.4)
texture = ExtResource("7_8xhop")

[node name="ParallaxLayer2" type="ParallaxLayer" parent="CanvasLayer/ParallaxBackground"]
motion_scale = Vector2(0.8, 0.8)
motion_offset = Vector2(30, 0)

[node name="Sprite2D2" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/ParallaxLayer2"]
position = Vector2(2767, 336)
scale = Vector2(0.4, 0.4)
texture = ExtResource("6_m1xfc")

[node name="Sprite2D4" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/ParallaxLayer2"]
position = Vector2(1817, 363)
scale = Vector2(0.4, 0.4)
texture = ExtResource("8_yi0ws")

[node name="Sprite2D3" type="Sprite2D" parent="CanvasLayer/ParallaxBackground/ParallaxLayer2"]
position = Vector2(1094, 338)
scale = Vector2(0.4, 0.4)
texture = ExtResource("8_1dda0")

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
material = SubResource("ShaderMaterial_fugcv")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="GameOverScreen" type="Sprite2D" parent="CanvasLayer"]
visible = false
position = Vector2(397, 291)
texture = ExtResource("8_v3eh1")

[node name="Krabice" type="RigidBody2D" parent="."]
position = Vector2(751, 283)
collision_layer = 7
collision_mask = 7
mass = 5.0
physics_material_override = SubResource("PhysicsMaterial_1c1xu")
center_of_mass_mode = 1
center_of_mass = Vector2(0, 20)
max_contacts_reported = 2
contact_monitor = true

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="Krabice"]
stream = ExtResource("14_xycrs")

[node name="Node2D" type="Node2D" parent="Krabice"]
script = ExtResource("4_uuuov")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Krabice"]
shape = SubResource("CircleShape2D_r7yqd")

[node name="Sprite2D" type="Sprite2D" parent="Krabice/CollisionShape2D"]
position = Vector2(2, 27)
scale = Vector2(0.2, 0.2)
texture = ExtResource("8_tc635")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Krabice"]
position = Vector2(3, 50)
rotation = 1.51844
shape = SubResource("CapsuleShape2D_jd27c")

[node name="Trava" type="Node2D" parent="."]

[node name="Trava2" type="Sprite2D" parent="Trava"]
position = Vector2(830, 539.5)
texture = ExtResource("15_5a1ow")

[node name="Trava3" type="Sprite2D" parent="Trava"]
position = Vector2(736, 530.5)
texture = ExtResource("16_sy6a4")

[node name="Trava4" type="Sprite2D" parent="Trava"]
position = Vector2(654.5, 573.5)
texture = ExtResource("15_5a1ow")

[node name="Trava5" type="Sprite2D" parent="Trava"]
position = Vector2(767.5, 602.5)
texture = ExtResource("16_sy6a4")

[node name="Trava6" type="Sprite2D" parent="Trava"]
position = Vector2(470.5, 517)
texture = ExtResource("15_5a1ow")

[node name="Trava7" type="Sprite2D" parent="Trava"]
position = Vector2(583.5, 546)
texture = ExtResource("16_sy6a4")

[node name="Trava8" type="Sprite2D" parent="Trava"]
position = Vector2(19, 454)
texture = ExtResource("15_5a1ow")

[node name="Trava9" type="Sprite2D" parent="Trava"]
position = Vector2(156, 472)
texture = ExtResource("16_sy6a4")

[node name="Trava10" type="Sprite2D" parent="Trava"]
position = Vector2(64.5, 344)
texture = ExtResource("15_5a1ow")

[node name="Trava11" type="Sprite2D" parent="Trava"]
position = Vector2(217.5, 375.5)
texture = ExtResource("16_sy6a4")

[node name="Trava12" type="Sprite2D" parent="Trava"]
position = Vector2(273.5, 431)
texture = ExtResource("15_5a1ow")

[node name="Trava13" type="Sprite2D" parent="Trava"]
position = Vector2(386.5, 460)
texture = ExtResource("16_sy6a4")

[node name="Trava14" type="Sprite2D" parent="Trava"]
position = Vector2(1656, 530.5)
texture = ExtResource("15_5a1ow")

[node name="Trava15" type="Sprite2D" parent="Trava"]
position = Vector2(1562, 521.5)
texture = ExtResource("16_sy6a4")

[node name="Trava16" type="Sprite2D" parent="Trava"]
position = Vector2(1480.5, 564.5)
texture = ExtResource("15_5a1ow")

[node name="Trava17" type="Sprite2D" parent="Trava"]
position = Vector2(1593.5, 593.5)
texture = ExtResource("16_sy6a4")

[node name="Trava18" type="Sprite2D" parent="Trava"]
position = Vector2(908.5, 470)
texture = ExtResource("15_5a1ow")

[node name="Trava19" type="Sprite2D" parent="Trava"]
position = Vector2(1061.5, 501.5)
texture = ExtResource("16_sy6a4")

[node name="Trava20" type="Sprite2D" parent="Trava"]
position = Vector2(1117.5, 557)
texture = ExtResource("15_5a1ow")

[node name="Trava21" type="Sprite2D" parent="Trava"]
position = Vector2(1230.5, 586)
texture = ExtResource("16_sy6a4")

[node name="Trava22" type="Sprite2D" parent="Trava"]
position = Vector2(1786.5, 526)
texture = ExtResource("15_5a1ow")

[node name="Trava23" type="Sprite2D" parent="Trava"]
position = Vector2(1939.5, 557.5)
texture = ExtResource("16_sy6a4")

[node name="Trava24" type="Sprite2D" parent="Trava"]
position = Vector2(1995.5, 613)
texture = ExtResource("15_5a1ow")

[node name="Trava25" type="Sprite2D" parent="Trava"]
position = Vector2(2108.5, 642)
texture = ExtResource("16_sy6a4")

[node name="Trava26" type="Sprite2D" parent="Trava"]
position = Vector2(2085.5, 544)
texture = ExtResource("15_5a1ow")

[node name="Trava27" type="Sprite2D" parent="Trava"]
position = Vector2(2238.5, 575.5)
texture = ExtResource("16_sy6a4")

[node name="Trava28" type="Sprite2D" parent="Trava"]
position = Vector2(2294.5, 631)
texture = ExtResource("15_5a1ow")

[node name="Trava29" type="Sprite2D" parent="Trava"]
position = Vector2(2407.5, 660)
texture = ExtResource("16_sy6a4")

[node name="Trava30" type="Sprite2D" parent="Trava"]
position = Vector2(2434.5, 580.5)
texture = ExtResource("16_sy6a4")

[node name="Trava31" type="Sprite2D" parent="Trava"]
position = Vector2(2490.5, 636)
texture = ExtResource("15_5a1ow")

[node name="Trava32" type="Sprite2D" parent="Trava"]
position = Vector2(2603.5, 665)
texture = ExtResource("16_sy6a4")

[node name="Trava33" type="Sprite2D" parent="Trava"]
position = Vector2(2580.5, 567)
texture = ExtResource("15_5a1ow")

[node name="Trava34" type="Sprite2D" parent="Trava"]
position = Vector2(2733.5, 598.5)
texture = ExtResource("16_sy6a4")

[node name="Trava35" type="Sprite2D" parent="Trava"]
position = Vector2(2870.5, 616.5)
texture = ExtResource("16_sy6a4")

[node name="Trava36" type="Sprite2D" parent="Trava"]
position = Vector2(2926.5, 672)
texture = ExtResource("15_5a1ow")

[node name="Trava37" type="Sprite2D" parent="Trava"]
position = Vector2(3039.5, 701)
texture = ExtResource("16_sy6a4")

[node name="Trava38" type="Sprite2D" parent="Trava"]
position = Vector2(3016.5, 603)
texture = ExtResource("15_5a1ow")

[node name="Trava39" type="Sprite2D" parent="Trava"]
position = Vector2(3169.5, 634.5)
texture = ExtResource("16_sy6a4")

[node name="CameraSwitcher" type="Node2D" parent="." node_paths=PackedStringArray("gameplayCamera")]
script = ExtResource("6_ahpbm")
gameplayCamera = NodePath("../CameraCenterer/CharactersCamera")

[node name="StoryboardPlayer" type="Camera2D" parent="CameraSwitcher" node_paths=PackedStringArray("gameTitle", "gameStart", "gameOver")]
position = Vector2(-998, -1504)
zoom = Vector2(1.75, 1.75)
position_smoothing_enabled = true
position_smoothing_speed = 10.0
script = ExtResource("9_mx74c")
gameTitle = NodePath("../../Storyboard/ParkUvod")
gameStart = [NodePath("../../Storyboard/ParkIntro1"), NodePath("../../Storyboard/ParkIntro2")]
gameOver = NodePath("../../Storyboard/GameOver")

[node name="Storyboard" type="Node2D" parent="."]

[node name="TextureRect" type="TextureRect" parent="Storyboard"]
offset_left = -3948.0
offset_top = -4813.0
offset_right = -3520.0
offset_bottom = -4671.0

[node name="ColorRect" type="ColorRect" parent="Storyboard"]
offset_left = -4123.0
offset_top = -5300.0
offset_right = -3323.0
offset_bottom = 4042.0
color = Color(0, 0, 0, 1)

[node name="ParkUvod" type="Sprite2D" parent="Storyboard"]
position = Vector2(-3700, -5000)
texture = ExtResource("7_m0xvp")
script = ExtResource("13_doyg1")
displayTime = 3.0

[node name="ParkIntro1" type="Sprite2D" parent="Storyboard"]
position = Vector2(-3700, -4616)
texture = ExtResource("12_c2snk")
script = ExtResource("13_doyg1")
displayTime = 3.0

[node name="ParkIntro2" type="Sprite2D" parent="Storyboard"]
position = Vector2(-3700, -4249)
texture = ExtResource("14_xfy2c")
script = ExtResource("13_doyg1")
displayTime = 2.0

[node name="ParkOutro1" type="Sprite2D" parent="Storyboard"]
position = Vector2(-3700, -3778)
texture = ExtResource("15_d117x")
script = ExtResource("13_doyg1")
displayTime = 3.0

[node name="ParkOutro4" type="Sprite2D" parent="Storyboard"]
position = Vector2(-3700, -2400)
texture = ExtResource("16_pror3")
script = ExtResource("13_doyg1")
displayTime = 2.0

[node name="ParkOutro5" type="Sprite2D" parent="Storyboard"]
position = Vector2(-3700, -2000)
texture = ExtResource("17_unuie")
script = ExtResource("13_doyg1")
displayTime = 2.0

[node name="GameOver" type="Sprite2D" parent="Storyboard"]
position = Vector2(-3714, 3202)
texture = ExtResource("24_yy2jp")
script = ExtResource("13_doyg1")
displayTime = 1.0

[node name="GoalTarget" type="Area2D" parent="."]
position = Vector2(3202, 368)
script = ExtResource("8_bgc1y")

[node name="CollisionShape2D" type="CollisionShape2D" parent="GoalTarget"]
position = Vector2(-2, 66)
shape = SubResource("RectangleShape2D_iy1vu")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
process_mode = 3
stream = ExtResource("30_fvr2l")
volume_db = -20.0
autoplay = true

[connection signal="body_entered" from="Krabice" to="." method="_on_krabice_body_entered"]
[connection signal="body_entered" from="Krabice" to="Krabice/Node2D" method="_on_krabice_body_entered"]
[connection signal="body_exited" from="Krabice" to="Krabice/Node2D" method="_on_krabice_body_exited"]
[connection signal="body_entered" from="GoalTarget" to="." method="_on_goal_target_body_entered"]
